{"version":3,"sources":["initializer.ts"],"names":["loadPainters"],"mappings":"AAAA,AACA,+DAD+D;IAC3D,cAA8B,CAAC;AAEnC,IAAI,QAAQ,GAAG,IAAI,CAAC;AAEpB,MAAM,CAAC,MAAM,GAAG;IACZ,IAAA,CAAC;QACG,AACA,2BAD2B;QAC3B,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAE1B,AACA,6EAD6E;YACzE,gBAAgB,GAAwB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAE,CAAC;QAC9F,AAKQ,4EALoE;QAEpE,+DAA+D;QAC/D,yDAAyD;QACzD,0CAA0C;QAC1C,gBAAgB,CAAC,QAAQ,GAAG,cAAM,OAAA,YAAY,EAAE,EAAd,CAAc,CAAC;QACzD,AAGQ,0DAHkD;QAElD,kCAAkC;YAC9B,MAAM,GAAG,IAAI,aAAa,CAAC,2BAA2B,CAAC,CAAC;QAC5D,MAAM,CAAC,IAAI,EAAE,CAAC;IAIlB,CAAE;IAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACT,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;IAC3B,CAAC;AAEL,CAAC,CAAC;AAEF,AAGA;;EADE;SACO,YAAY;IACjBA,IAAIA,EAAEA,GAAwBA,QAAQA,CAACA,cAAcA,CAACA,eAAeA,CAAEA,CAACA;IACxEA,IAAAA,CAACA;QACGA,IAAIA,QAAQA,GAAGA,cAAcA,CAACA,KAAKA,CAE9BA,MAAMA,CAACA,UAAAA,IAAIA,IAAIA,OAAAA,IAAIA,CAACA,IAAIA,KAAKA,EAAEA,CAACA,KAAKA,EAAtBA,CAAsBA,CAACA,CAEtCA,MAAMA,CAACA,UAAAA,IAAIA,IAAIA,WAAIA,aAAaA,CAACA;YAC9BA,IAAIA,EAAEA,EAAEA,CAACA,KAAKA;YACdA,KAAKA,EAAEA,IAAIA,CAACA,KAAKA;YACjBA,QAAQA,EAAEA,IAAIA,CAACA,QAAQA;YACvBA,UAAUA,EAAEA,IAAIA,CAACA,UAAUA;YAC3BA,WAAWA,EAAEA,IAAIA,CAACA,WAAWA;YAC7BA,SAASA,EAAEA,IAAIA,CAACA,SAASA;SAC5BA,CAACA,EAPcA,CAOdA,CAACA,CAACA;QACRA,QAAQA,CAACA,cAAcA,CAACA,QAAQA,CAACA,CAACA;IACtCA,CACAA;IAAAA,KAAKA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;QACRA,OAAOA,CAACA,GAAGA,CAACA,2BAA2BA,CAACA,CAACA;QACzCA,OAAOA,CAACA,GAAGA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAAAA;IAC3BA,CAACA;AACLA,CAACA","file":"initializer.js","sourceRoot":"/home/craig/git/edX/typescript/final-project/","sourcesContent":["//FamousPainters holds the collection of FamousPainter entities\r\nvar famousPainters: FamousPainters;\r\n\r\nvar renderer = null;\r\n\r\nwindow.onload = () => { \r\n    try {\r\n        //instantiate  the renderer\r\n        renderer = new Renderer();\r\n\r\n        //Get a reference to the HTML select element that is used to select a painter\r\n        var categoriesSelect = (<HTMLSelectElement> document.getElementById('PainterSelect'));\r\n//        console.log(\"categoriesSelect instantiated: \" + categoriesSelect);\r\n\r\n        //Set the loadPainters() function as the onChange event handler\r\n        //  so that the page can be updated with data when a new \r\n        //  painter is selected from the drop down\r\n        categoriesSelect.onchange = () => loadPainters();\r\n//        console.log(\"categoriesSelect onchange called\");\r\n\r\n        //load painters from the JSON file\r\n        var loader = new PainterLoader('/JSON/famousPainters.json');\r\n        loader.load();\r\n//        console.log(\"categoriesSelect loaded: \" + categoriesSelect.value);\r\n        \r\n\r\n    } catch (e) {\r\n        console.log(\"Error in onload\");\r\n        console.log(e.message);\r\n    }\r\n\r\n};\r\n\r\n/**\r\n * Updates the page data when a new painter is selected from the drop-down.\r\n*/\r\nfunction loadPainters() {\r\n    var el = (<HTMLSelectElement> document.getElementById('PainterSelect'));\r\n    try {\r\n        var category = famousPainters.items\r\n            //Find selected item by name\r\n            .filter(item => item.name === el.value)\r\n            //turn the item intp a FamousPainter object\r\n            .reduce(item => new FamousPainter({\r\n                name: el.value,\r\n                style: item.style,\r\n                examples: item.examples,\r\n                birthplace: item.birthplace,\r\n                nationality: item.nationality,\r\n                birthdate: item.birthdate\r\n            }));\r\n        renderer.renderCategory(category);\r\n    }\r\n    catch (ex) { \r\n        console.log(\"Problem in loadPainters()\");\r\n        console.log(ex.message) \r\n    }\r\n}\r\n  \r\n\r\n\r\n\r\n\r\n"]}